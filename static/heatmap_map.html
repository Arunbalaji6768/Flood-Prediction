<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Flood Heatmap</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h3 style="text-align:center;">Flood Damage Heatmap - India</h3>
    <div id="heatmap" style="width: 100%; height: 90vh;"></div>

    <script>
        const locations = [
            { city: "Guwahati", state: "Assam", lat: 26.1445, lon: 91.7362, damage: 92, risk: "High" },
            { city: "Patna", state: "Bihar", lat: 25.5941, lon: 85.1376, damage: 88, risk: "High" },
            { city: "Mumbai", state: "Maharashtra", lat: 19.0760, lon: 72.8777, damage: 95, risk: "Very High" },
            { city: "Chennai", state: "Tamil Nadu", lat: 13.0827, lon: 80.2707, damage: 45, risk: "Medium" },
            { city: "Bengaluru", state: "Karnataka", lat: 12.9716, lon: 77.5946, damage: 30, risk: "Low" },
            { city: "Kochi", state: "Kerala", lat: 9.9312, lon: 76.2673, damage: 85, risk: "High" },
            { city: "Kolkata", state: "West Bengal", lat: 22.5726, lon: 88.3639, damage: 75, risk: "High" },
            { city: "Hyderabad", state: "Telangana", lat: 17.3850, lon: 78.4867, damage: 60, risk: "Medium" },
            { city: "Ahmedabad", state: "Gujarat", lat: 23.0225, lon: 72.5714, damage: 50, risk: "Medium" },
            { city: "Pune", state: "Maharashtra", lat: 18.5204, lon: 73.8567, damage: 40, risk: "Low" },
            { city: "Lucknow", state: "Uttar Pradesh", lat: 26.8467, lon: 80.9462, damage: 65, risk: "Medium" },
            { city: "Jaipur", state: "Rajasthan", lat: 26.9124, lon: 75.7873, damage: 35, risk: "Low" },
            { city: "Bhopal", state: "Madhya Pradesh", lat: 23.2599, lon: 77.4126, damage: 55, risk: "Medium" },
            { city: "Chandigarh", state: "Punjab", lat: 30.7333, lon: 76.7794, damage: 25, risk: "Low" },
            { city: "Dehradun", state: "Uttarakhand", lat: 30.3165, lon: 78.0322, damage: 70, risk: "High" },
            { city: "Srinagar", state: "Jammu & Kashmir", lat: 34.0837, lon: 74.7973, damage: 80, risk: "High" },
            { city: "Bhubaneswar", state: "Odisha", lat: 20.2961, lon: 85.8245, damage: 78, risk: "High" },
            { city: "Thiruvananthapuram", state: "Kerala", lat: 8.5241, lon: 76.9366, damage: 82, risk: "High" },
            { city: "Shillong", state: "Meghalaya", lat: 25.5788, lon: 91.8933, damage: 60, risk: "Medium" },
            { city: "Aizawl", state: "Mizoram", lat: 23.7271, lon: 92.7176, damage: 50, risk: "Medium" },
            { city: "Imphal", state: "Manipur", lat: 24.8170, lon: 93.9368, damage: 65, risk: "Medium" },
            { city: "Agartala", state: "Tripura", lat: 23.8315, lon: 91.2868, damage: 58, risk: "Medium" },
            { city: "Ranchi", state: "Jharkhand", lat: 23.3441, lon: 85.3096, damage: 70, risk: "High" },
            { city: "Raipur", state: "Chhattisgarh", lat: 21.2514, lon: 81.6296, damage: 45, risk: "Medium" },
            { city: "Panaji", state: "Goa", lat: 15.4909, lon: 73.8278, damage: 38, risk: "Low" },
            { city: "Gangtok", state: "Sikkim", lat: 27.3314, lon: 88.6138, damage: 42, risk: "Low" },
            { city: "Port Blair", state: "Andaman & Nicobar", lat: 11.6234, lon: 92.7265, damage: 20, risk: "Low" },
            { city: "Silvassa", state: "Dadra & Nagar Haveli", lat: 20.2706, lon: 73.0220, damage: 15, risk: "Low" },
            { city: "Daman", state: "Daman & Diu", lat: 20.3974, lon: 72.8328, damage: 10, risk: "Low" },
            { city: "Puducherry", state: "Puducherry", lat: 11.9416, lon: 79.8083, damage: 30, risk: "Low" },
            { city: "Jakarta", state: "Indonesia", lat: -6.2088, lon: 106.8456, damage: 100, risk: "Extreme" },
            { city: "Bangkok", state: "Thailand", lat: 13.7563, lon: 100.5018, damage: 98, risk: "Extreme" },
            { city: "Guangzhou", state: "China", lat: 23.1291, lon: 113.2644, damage: 95, risk: "Very High" },
            { city: "New Orleans", state: "USA", lat: 29.9511, lon: -90.0715, damage: 90, risk: "Very High" },
            { city: "Miami", state: "USA", lat: 25.7617, lon: -80.1918, damage: 90, risk: "Very High" },
            { city: "Ho Chi Minh City", state: "Vietnam", lat: 10.8231, lon: 106.6297, damage: 94, risk: "Very High" },
            { city: "Manila", state: "Philippines", lat: 14.5995, lon: 120.9842, damage: 93, risk: "Very High" },
            { city: "Shanghai", state: "China", lat: 31.2304, lon: 121.4737, damage: 92, risk: "Very High" },
            { city: "Dhaka", state: "Bangladesh", lat: 23.8103, lon: 90.4125, damage: 91, risk: "Very High" },
            { city: "Lagos", state: "Nigeria", lat: 6.5244, lon: 3.3792, damage: 90, risk: "Very High" },
            { city: "Houston", state: "USA", lat: 29.7604, lon: -95.3698, damage: 88, risk: "High" },
            { city: "Venice", state: "Italy", lat: 45.4408, lon: 12.3155, damage: 87, risk: "High" },
            { city: "London", state: "UK", lat: 51.5074, lon: -0.1278, damage: 86, risk: "High" },
            { city: "Amsterdam", state: "Netherlands", lat: 52.3676, lon: 4.9041, damage: 85, risk: "High" },
            { city: "Beira", state: "Mozambique", lat: -19.8333, lon: 34.8500, damage: 84, risk: "High" },
            { city: "Karachi", state: "Pakistan", lat: 24.8607, lon: 67.0011, damage: 82, risk: "High" },
            { city: "Buenos Aires", state: "Argentina", lat: -34.6037, lon: -58.3816, damage: 81, risk: "Moderate" },
            { city: "Abidjan", state: "Ivory Coast", lat: 5.3600, lon: -4.0083, damage: 80, risk: "Moderate" },
            { city: "Rio de Janeiro", state: "Brazil", lat: -22.9068, lon: -43.1729, damage: 79, risk: "Moderate" },
            { city: "Tianjin", state: "China", lat: 39.3434, lon: 117.3616, damage: 78, risk: "Moderate" },
            { city: "Alexandria", state: "Egypt", lat: 31.2001, lon: 29.9187, damage: 77, risk: "Moderate" }
        ];

        const data = [{
            type: 'scattermapbox',
            lat: locations.map(loc => loc.lat),
            lon: locations.map(loc => loc.lon),
            mode: 'markers',
            marker: {
                size: locations.map(loc => loc.damage / 4 + 8),
                color: locations.map(loc => loc.damage),
                colorscale: 'YlOrRd',
                showscale: true,
                colorbar: {
                    title: 'Damage Level',
                    titleside: 'right'
                },
                opacity: 0.8
            },
            text: locations.map(loc => 
                `${loc.city}, ${loc.state}<br>Damage: ${loc.damage}%<br>Risk: ${loc.risk}`
            ),
            hoverinfo: 'text'
        }];

        const layout = {
            mapbox: {
                style: "open-street-map",
                center: { lat: 22.9734, lon: 78.6569 },
                zoom: 3.8
            },
            margin: { t: 30, b: 0, l: 0, r: 0 },
            height: 600,
            showlegend: false
        };

        // No Mapbox token needed!
        Plotly.newPlot('heatmap', data, layout);
    </script>
</body>
</html>